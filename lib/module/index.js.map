{"version":3,"names":["NativeModules","Platform","getConfig","LINKING_ERROR","select","ios","default","WaivpayKartaSdk","Proxy","get","Error","addCard","cardId","cardSuffix","cardHolder","env","deliveryEmail","appId","accessToken","config","custHeader","url","headers","host","cardExists","checkIfReadyToPay","jsonReq","environment","startBeacon","sessionToken","shop","updateToken","beaconLogRequest","requestUrl"],"sources":["index.tsx"],"sourcesContent":["import { NativeModules, Platform } from 'react-native';\nimport { getConfig } from './ApiCall';\n\nconst LINKING_ERROR =\n  `The package 'waivpay-karta-sdk' doesn't seem to be linked. Make sure: \\n\\n` +\n  Platform.select({ ios: \"- You have run 'pod install'\\n\", default: '' }) +\n  '- You rebuilt the app after installing the package\\n' +\n  '- You are not using Expo managed workflow\\n';\n\n  const WaivpayKartaSdk = NativeModules['WaivpayKartaSdk']\n  ? NativeModules['WaivpayKartaSdk']\n  : new Proxy(\n      {},\n      {\n        get() {\n          throw new Error(LINKING_ERROR);\n        },\n      }\n    );\n\nexport async function addCard(cardId: String, cardSuffix: String, cardHolder: String, env: String, deliveryEmail: String, appId: String, accessToken: String): Promise<String> {\n  const config = await getConfig();\n  var custHeader: {[key: string]: string} = {\"\":\"\"};\n  var url = \"\";\n  \n  if(config != null && config.headers != null)\n  {\n    custHeader = config.headers;\n  }\n  if(config != null && config.host != null && config.host != \"\"){\n    url = config.host\n  }\n  return WaivpayKartaSdk.addCard(cardId, cardSuffix, cardHolder, env, deliveryEmail, appId, accessToken, url, custHeader);\n}\n\nexport function cardExists(cardId: String): Promise<String> {\n  return WaivpayKartaSdk.cardExists(cardId);\n}\n\nexport function checkIfReadyToPay(jsonReq: String, environment: String): Promise<String> {\n  return WaivpayKartaSdk.checkIfReadyToPay(jsonReq, environment);\n  \n}\nexport function startBeacon(sessionToken: String, shop: String): Promise<String> {\n  return WaivpayKartaSdk.startBeacon(sessionToken, shop);\n}\n\nexport function updateToken(sessionToken: String): Promise<String> {\n  return WaivpayKartaSdk.updateToken(sessionToken);\n}\n\nexport function beaconLogRequest(requestUrl: String): Promise<String> {\n  return WaivpayKartaSdk.beaconLogRequest(requestUrl);\n}\n"],"mappings":"AAAA,SAASA,aAAT,EAAwBC,QAAxB,QAAwC,cAAxC;AACA,SAASC,SAAT,QAA0B,WAA1B;AAEA,MAAMC,aAAa,GAChB,4EAAD,GACAF,QAAQ,CAACG,MAAT,CAAgB;EAAEC,GAAG,EAAE,gCAAP;EAAyCC,OAAO,EAAE;AAAlD,CAAhB,CADA,GAEA,sDAFA,GAGA,6CAJF;AAME,MAAMC,eAAe,GAAGP,aAAa,CAAC,iBAAD,CAAb,GACtBA,aAAa,CAAC,iBAAD,CADS,GAEtB,IAAIQ,KAAJ,CACE,EADF,EAEE;EACEC,GAAG,GAAG;IACJ,MAAM,IAAIC,KAAJ,CAAUP,aAAV,CAAN;EACD;;AAHH,CAFF,CAFF;AAWF,OAAO,eAAeQ,OAAf,CAAuBC,MAAvB,EAAuCC,UAAvC,EAA2DC,UAA3D,EAA+EC,GAA/E,EAA4FC,aAA5F,EAAmHC,KAAnH,EAAkIC,WAAlI,EAAwK;EAC7K,MAAMC,MAAM,GAAG,MAAMjB,SAAS,EAA9B;EACA,IAAIkB,UAAmC,GAAG;IAAC,IAAG;EAAJ,CAA1C;EACA,IAAIC,GAAG,GAAG,EAAV;;EAEA,IAAGF,MAAM,IAAI,IAAV,IAAkBA,MAAM,CAACG,OAAP,IAAkB,IAAvC,EACA;IACEF,UAAU,GAAGD,MAAM,CAACG,OAApB;EACD;;EACD,IAAGH,MAAM,IAAI,IAAV,IAAkBA,MAAM,CAACI,IAAP,IAAe,IAAjC,IAAyCJ,MAAM,CAACI,IAAP,IAAe,EAA3D,EAA8D;IAC5DF,GAAG,GAAGF,MAAM,CAACI,IAAb;EACD;;EACD,OAAOhB,eAAe,CAACI,OAAhB,CAAwBC,MAAxB,EAAgCC,UAAhC,EAA4CC,UAA5C,EAAwDC,GAAxD,EAA6DC,aAA7D,EAA4EC,KAA5E,EAAmFC,WAAnF,EAAgGG,GAAhG,EAAqGD,UAArG,CAAP;AACD;AAED,OAAO,SAASI,UAAT,CAAoBZ,MAApB,EAAqD;EAC1D,OAAOL,eAAe,CAACiB,UAAhB,CAA2BZ,MAA3B,CAAP;AACD;AAED,OAAO,SAASa,iBAAT,CAA2BC,OAA3B,EAA4CC,WAA5C,EAAkF;EACvF,OAAOpB,eAAe,CAACkB,iBAAhB,CAAkCC,OAAlC,EAA2CC,WAA3C,CAAP;AAED;AACD,OAAO,SAASC,WAAT,CAAqBC,YAArB,EAA2CC,IAA3C,EAA0E;EAC/E,OAAOvB,eAAe,CAACqB,WAAhB,CAA4BC,YAA5B,EAA0CC,IAA1C,CAAP;AACD;AAED,OAAO,SAASC,WAAT,CAAqBF,YAArB,EAA4D;EACjE,OAAOtB,eAAe,CAACwB,WAAhB,CAA4BF,YAA5B,CAAP;AACD;AAED,OAAO,SAASG,gBAAT,CAA0BC,UAA1B,EAA+D;EACpE,OAAO1B,eAAe,CAACyB,gBAAhB,CAAiCC,UAAjC,CAAP;AACD"}