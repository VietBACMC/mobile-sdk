{"version":3,"names":["encryptFromSDK2","val","key","ewayPublicKeyAttribute","ewayEncryptAttribute","modalCallback","amexECCallback","lastButtonName","lastButtonValue","PUBLIC_KEY_N","PUBLIC_KEY_E","b64tohex","encryptValueApi","toString","Error","keyToUse","rsa","RSAKey","setPublic","encrypt","showModalPaymentApi","config","callback","ifrm","createIFrame","src","getModalUrl","bodyFreezeScroll","encryptForm","event","window","target","srcElement","submitForm","initVars","ewayPNVars","endpoints","defaultEndpoint","modalEndpoints","getVar","name","setVar","value","bodyWidth","$body","offsetWidth","css","style","marginRight","marginTop","overflow","bodyUnfreezeScroll","oldMarginR","oldMarginT","oldOverflow","checkKey","retval","match","input","substr","replace","sum","numdigits","length","parity","i","digit","parseInt","charAt","getEndpoint","canDefault","url","endpoint","toLowerCase","findPayNowTagFromButton","button","getAmount","previousSibling","nodeName","getAttribute","getBaseUrl","tag","base","getPublicAPIKey","findNodesForm","node","max","parentNode","setButtonProcessed","message","ewayActivePayNowButton","btnColor","getButtonProcessedColor","btnTextColor","getButtonTextColor","className","span","firstChild","buttonText","nodeValue","cssText","onclick","createInfoIcon","resultUrl","getResultURL","location","href","buttonsForm","getSubmitForm","addFormAC","submit","setButtonError","getButtonErrorColor","setButtonProcessing","setButtonCancelled","getButtonText","setButtonDisabled","getButtonDisabledColor","addListener","ewayListenerConnected","addEventListener","listenForResult","attachEvent","handleModalMessage","data","handleAmexECMessage","handlePayNowMessage","result","err","origin","removeIFrame","tranid","checkFrameLoad","count","id","loadStatus","setTimeout","addPayNowButton","pk","createButton","getButtonColor","addParam","getCurrency","getInvoiceRef","getEmail","getPhone","getAllowEdit","getInvoiceDesc","label","getLabel","formatMoney","encodeURIComponent","curr","undefined","n","toFixed","extractPublicKey","f","cloneForm","oldForm","newForm","cloneNode","copySelectLists","copyTextAreas","copyCheckboxAndRadioValues","addButton","selectElementsOld","getElementsByTagName","selectElementsNew","selectedIndex","textElementsOld","textElementsNew","inputsOld","inputsNew","type","checked","encryptElement","element","addSubmitEvent","frm","oldonsubmit","onsubmit","e","saveButtonDetails","dbits","canary","j_lm","BigInteger","a","b","c","fromNumber","fromString","nbi","am1","x","w","j","v","Math","floor","am2","xl","xh","l","h","m","am3","navigator","appName","prototype","am","DB","DM","DV","BI_FP","FV","pow","F1","F2","BI_RM","BI_RC","Array","rr","vv","charCodeAt","int2char","intAt","s","bnpCopyTo","r","t","bnpFromInt","nbv","fromInt","bnpFromString","k","fromRadix","mi","sh","clamp","ZERO","subTo","bnpClamp","bnToString","negate","toRadix","km","d","p","bnNegate","bnAbs","bnCompareTo","nbits","bnBitLength","bnpDLShiftTo","bnpDRShiftTo","bnpLShiftTo","bs","cbs","bm","ds","bnpRShiftTo","bnpSubTo","min","bnpMultiplyTo","abs","y","bnpSquareTo","bnpDivRemTo","q","pm","pt","copyTo","ts","ms","nsh","lShiftTo","ys","y0","yt","d1","d2","dlShiftTo","compareTo","ONE","qd","drShiftTo","rShiftTo","bnMod","divRemTo","Classic","cConvert","mod","cRevert","cReduce","cMulTo","multiplyTo","reduce","cSqrTo","squareTo","convert","revert","mulTo","sqrTo","bnpInvDigit","Montgomery","mp","invDigit","mpl","mph","um","mt2","montConvert","montRevert","montReduce","u0","montSqrTo","montMulTo","bnpIsEven","bnpExp","z","r2","g","bnModPowInt","isEven","exp","bitLength","modPowInt","Arcfour","S","ARC4init","ARC4next","init","next","prng_newstate","rng_psize","rng_state","rng_pool","rng_pptr","rng_seed_int","rng_seed_time","Date","getTime","crypto","getRandomValues","ua","Uint8Array","appVersion","random","rng_get_byte","rng_get_bytes","ba","SecureRandom","nextBytes","parseBigInt","str","linebrk","ret","substring","byte2Hex","pkcs1pad2","alert","rng","dmp1","dmq1","coeff","RSASetPublic","N","E","RSADoPublic","RSAEncrypt","text","doPublic","hex2b64","b64map","b64padchar","slop","indexOf","b64toBA"],"sources":["SDKEncryptionTS.d.ts"],"sourcesContent":["export function encryptFromSDK2 (val, key) {\n    \n    var ewayPublicKeyAttribute = \"data-eway-encrypt-key\";\n    var ewayEncryptAttribute = \"data-eway-encrypt-name\";\n    var modalCallback = null;\n    var amexECCallback = null;\n    var lastButtonName = null;\n    var lastButtonValue = null;\n\n    var PUBLIC_KEY_N = null;\n    var PUBLIC_KEY_E = b64tohex(\"AQAB\");\n\n\n\n    // API Entrypoint for Encryption function, Will use key passed in, or the form's key if not supplied.\n    // returns null if no key\n    function encryptValueApi(val, key) {\n        if (typeof val == 'number' && val < 10000) { //Valid CVN should be less than 10000 in number format.\n            val = val.toString();\n        }\n\n        if (typeof val != 'string') {\n            throw new Error(\"The value to be encrypted must be a string type.\");\n        }\n\n        var keyToUse = null;\n        if (key) keyToUse = b64tohex(key);\n        if (!keyToUse) keyToUse = PUBLIC_KEY_N;\n        if (keyToUse) {\n            var rsa = new RSAKey();\n            rsa.setPublic(keyToUse, PUBLIC_KEY_E);\n            return \"eCrypted:\" + rsa.encrypt(val);\n        } else\n            return null;\n    }\n\n    //API Entrypoint to create and show a shared page Modal Payment, calling the given function when the payment completes.\n    function showModalPaymentApi(config, callback) {\n        // only open if not already one open\n        if (!modalCallback) {\n            // create iFrame\n            var ifrm = createIFrame(\"modal\");\n            ifrm.src = getModalUrl(config);\n            bodyFreezeScroll();\n            modalCallback = callback; // set callback\n        }\n        return false;\n    }\n\n\n\n    // This one's called by the handler on the form submit (setup by Init)\n    function encryptForm(event) {\n        event = event || window.event;  // event is undefined in IE\n        var target = event.target || event.srcElement; // IE uses srcElement, everything else uses target\n        return submitForm(target);\n    }\n\n\n\n    // Functions to get and save global Vars and Constants\n    function initVars() {\n        if (!(window.ewayPNVars)) {\n            window.ewayPNVars = {\n                endpoints: {\n                    \"X\": \"https://localhost:44300\",\n                    \"Y\": \"http://rapid-shared-sa.sa.ewaylabs.cloud/sharedpage\",\n                    \"T\": \"http://staging.secure.ewaypayments.com/sharedpage\",\n                    \"U\": \"https://staging.secure-uk.ewaypayments.com/sharedpage\",\n                    \"V\": \"http://api.sandbox.ewaypayments.com/staging-au/sharedpage\",\n                    \"W\": \"https://api.sandbox.ewaypayments.com/staging-uk/sharedpage\",\n                    \"A\": \"https://secure.ewaypayments.com/sharedpage\",\n                    \"B\": \"https://secure-uk.ewaypayments.com/sharedpage\",\n                    \"C\": \"https://secure-au.sandbox.ewaypayments.com/sharedpage\",\n                    \"D\": \"https://secure-uk.sandbox.ewaypayments.com/sharedpage\"\n                },\n\n                defaultEndpoint: \"A\",\n\n                modalEndpoints: {\n                    \"production\": \"https://secure.ewaypayments.com/sharedpage\",\n                    \"sandbox\": \"https://secure-au.sandbox.ewaypayments.com/sharedpage\",\n                    \"production-uk\": \"https://secure-uk.ewaypayments.com/sharedpage\",\n                    \"sandbox-uk\": \"https://secure-uk.sandbox.ewaypayments.com/sharedpage\"\n                }\n            };\n        }\n    }\n\n    function getVar(name) {\n        initVars();\n        return window.ewayPNVars[name];\n    }\n\n    function setVar(name, value) {\n        initVars();\n        window.ewayPNVars[name] = value;\n        return;\n    }\n\n    // var $body = window.document.body;\n\n    function bodyFreezeScroll() {\n        var bodyWidth = $body.offsetWidth;\n        var css = $body.style;\n        setVar(\"saveMarginR\", css.marginRight);\n        setVar(\"saveMarginT\", css.marginTop);\n        setVar(\"saveOverflow\", css.overflow);\n        css.overflow = \"hidden\";\n        css.marginTop = \"0px\"; // Stop IE jump\n        css.marginRight = (css.marginRight ? '+=' : '') + ($body.offsetWidth - bodyWidth);\n    }\n\n    function bodyUnfreezeScroll() {\n        var bodyWidth = $body.offsetWidth;\n        var css = $body.style;\n        var oldMarginR = getVar(\"saveMarginR\");\n        var oldMarginT = getVar(\"saveMarginT\");\n        var oldOverflow = getVar(\"saveOverflow\");\n        css.marginRight = oldMarginR ? oldMarginR : \"\";\n        css.marginTop = oldMarginT ? oldMarginT : \"\";\n        css.overflow = oldOverflow ? oldOverflow : \"\";\n    }\n\n    function checkKey(key) {\n        var retval = null;\n        if (key && key.match(\"epk-[0-9,A-F][A-Z][0-9,A-F]*\")) {\n            // simple luhn style check using hex digits\n            var input = key.substr(4).replace(/[-,G-Z]/g, \"\");\n            var sum = 0;\n            var numdigits = input.length;\n            var parity = numdigits % 2;\n            for (var i = 0; i < numdigits; i++) {\n                var digit = parseInt(input.charAt(i), 16);\n                if (i % 2 == parity) digit *= 2;\n                if (digit > 15) digit -= 15;\n                sum += digit;\n            }\n            retval = ((sum % 16) == 0);\n        }\n        return retval;\n    }\n\n    // Get a PayNowbutton endpoint from the key and the array.\n    function getEndpoint(key, canDefault) {\n        var endpoints = getVar(\"endpoints\");\n        var retval = null;\n        if (checkKey(key)) {\n            retval = endpoints[key.charAt(5)];\n        }\n\n        // defualt if we can (i.e. non critical)\n        if (!retval && canDefault) retval = endpoints[getVar(\"defaultEndpoint\")];\n\n        return retval;\n    }\n\n    //Create a Rapid shared page modal URL from an access code and the settings. will return null on any error.\n    function getModalUrl(config) {\n        var modalEndpoints = getVar(\"modalEndpoints\");\n        var url = null;\n        // First check for a full URL, and sub \n        if (config && config[\"sharedPaymentUrl\"]) {\n            url = config[\"sharedPaymentUrl\"];\n            url = url.replace(/sharedpayment\\?/, \"sharedpayment?v=2&\") + \"&View=Modal\";\n        }\n        else {\n            // Try access code and endpoint\n            if (config && config[\"accessCode\"]) {\n                var endpoint = !config[\"endpoint\"] ? \"production\" : config[\"endpoint\"];\n                url = modalEndpoints[endpoint.toLowerCase()];\n                if (!url) url = endpoint.replace(/\\/$/, \"\"); // no match? use it raw.\n                if (!url.match(/^http/)) url = \"https://\" + url;\n                url += \"/sharedpayment?v=2&AccessCode=\" + config[\"accessCode\"] + \"&View=Modal\";\n            }\n        }\n        return url;\n    }\n\n\n    function findPayNowTagFromButton(button) {\n        // Mods V1.2 Button can now be it's own tag, so we will return the tag with the config info (which may be the button)\n        if (button && getAmount(button)) {\n            return button;\n        }\n        else {\n            if (button && button.previousSibling) {\n                if (button.previousSibling.nodeName == \"SCRIPT\" && button.previousSibling.getAttribute(\"class\") == \"eway-paynow-button\")\n                    return button.previousSibling;\n            }\n        }\n        return null;\n    }\n\n    // returns the shared page base URL (for this tag)\n    function getBaseUrl(tag) {\n        var base = tag.src;\n        if (base.match(/sharedpage/i)) {\n            base = base.replace(/sharedpage.*/i, \"sharedpage\");\n        }\n        else {\n            base = getEndpoint(getPublicAPIKey(tag), true);\n        }\n        return base;\n    }\n\n    function findNodesForm(node) {\n        var max = 50; // saftey\n        while (node && node.nodeName != \"FORM\" && max-- > 0) {\n            node = node.parentNode;\n        }\n        return node;\n    }\n\n\n\n    function setButtonProcessed(message) {\n        if (window.ewayActivePayNowButton) {\n            var tag = findPayNowTagFromButton(window.ewayActivePayNowButton);\n            var btnColor = getButtonProcessedColor(tag);\n            var btnTextColor = getButtonTextColor(tag);\n            window.ewayActivePayNowButton.className = \"eway-button processed\";\n            var span = window.ewayActivePayNowButton.firstChild;\n            var buttonText = (window.ewayActivePayNowButton.firstChild) ? window.ewayActivePayNowButton.firstChild.firstChild : null;\n            if (buttonText) buttonText.nodeValue = \"Processing Complete\";\n            if (span) {\n                span.style.cssText = \"display: block; min-height:30px;\";\n                if (btnColor) span.style.cssText += \" background: \" + btnColor;\n                if (btnTextColor) span.style.cssText += \" color: \" + btnTextColor;\n            }\n            window.ewayActivePayNowButton.onclick = null; // disable\n            // Show the transaction ID/receipt num\n            createInfoIcon(window.ewayActivePayNowButton, \"Your transaction has been accepted for processing. \" + message.replace(\"ID:\", \"Receipt Number:\").replace(/,AC:.*/, \"\"));\n            // two options Redirect to result page with Access Code in URL if specified) or submit\n            var resultUrl = getResultURL(tag);\n            if (resultUrl) {\n                window.location.href = resultUrl + ((resultUrl.match(/\\?/)) ? '&' : '?') + 'AccessCode=' + message.replace(/ID:.*,AC:/, \"\");\n            }\n            else {\n                // submit the form if specified\n                var tag = findPayNowTagFromButton(window.ewayActivePayNowButton);\n                var buttonsForm = findNodesForm(window.ewayActivePayNowButton);\n                var submitForm = getSubmitForm(tag);\n                if (buttonsForm && !(submitForm == \"false\" || submitForm == \"no\")) {\n                    addFormAC(buttonsForm, message);\n                    buttonsForm.submit();\n                }\n            }\n        }\n    }\n\n    function setButtonError(message) {\n        if (window.ewayActivePayNowButton) {\n            var tag = findPayNowTagFromButton(window.ewayActivePayNowButton);\n            var btnColor = getButtonErrorColor(tag);\n            var btnTextColor = getButtonTextColor(tag);\n            window.ewayActivePayNowButton.className = \"eway-button error\";\n            var span = window.ewayActivePayNowButton.firstChild;\n            var buttonText = (window.ewayActivePayNowButton.firstChild) ? window.ewayActivePayNowButton.firstChild.firstChild : null;\n            if (buttonText) buttonText.nodeValue = \"Processing Error\";\n            if (span) {\n                span.style.cssText = \"display: block; min-height:30px;\";\n                if (btnColor) span.style.cssText += \" background: \" + btnColor;\n                if (btnTextColor) span.style.cssText += \" color: \" + btnTextColor;\n            }\n            window.ewayActivePayNowButton.onclick = null; // disable\n            // Show the transaction ID/receipt num\n            createInfoIcon(window.ewayActivePayNowButton, \"Unable to process Transaction. Error Message: \" + message);\n        }\n    }\n\n    function setButtonProcessing() {\n        if (window.ewayActivePayNowButton) {\n            window.ewayActivePayNowButton.className = \"eway-button processing\";\n            var buttonText = (window.ewayActivePayNowButton.firstChild) ? window.ewayActivePayNowButton.firstChild.firstChild : null;\n            if (buttonText) buttonText.nodeValue = \"Loading Payment...\";\n        }\n    }\n\n    function setButtonCancelled() {\n        if (window.ewayActivePayNowButton) {\n            window.ewayActivePayNowButton.className = \"eway-button\";\n            var buttonText = (window.ewayActivePayNowButton.firstChild) ? window.ewayActivePayNowButton.firstChild.firstChild : null;\n            if (buttonText) buttonText.nodeValue = getButtonText(findPayNowTagFromButton(window.ewayActivePayNowButton));\n        }\n    }\n\n    function setButtonDisabled(message) {\n        if (window.ewayActivePayNowButton) {\n            var tag = findPayNowTagFromButton(window.ewayActivePayNowButton);\n            var btnColor = getButtonDisabledColor(tag);\n            var btnTextColor = getButtonTextColor(tag);\n            window.ewayActivePayNowButton.className = \"eway-button disabled\";\n            window.ewayActivePayNowButton.style.cssText = \"visibility: visible;\" + (btnColor) ? \" background: \" + btnColor : \"\";\n            var span = window.ewayActivePayNowButton.firstChild;\n            if (span) {\n                span.style.cssText = \"display: block; min-height:30px;\";\n                if (btnColor) span.style.cssText += \" background: \" + btnColor;\n                if (btnTextColor) span.style.cssText += \" color: \" + btnTextColor;\n            }\n            window.ewayActivePayNowButton.onclick = null; // disable\n            createInfoIcon(window.ewayActivePayNowButton, message);\n        }\n    }\n\n\n    function addListener() {\n        if (!window.ewayListenerConnected) {\n            if (window.addEventListener) {\n                addEventListener(\"message\", listenForResult, false);\n            } else {\n                attachEvent(\"onmessage\", listenForResult);\n            }\n            window.ewayListenerConnected = true;\n        }\n    }\n\n\n    //This is the main handler for all browser messages (from Paynow buttons and Modals)\n    function listenForResult(event) {\n        // will fire once for every button that is clicked or modal that's created\n        if (modalCallback) {\n            handleModalMessage(event);\n        }\n        else if (amexECCallback && (event.data.match(/amexec/g) || event.data.match(/error_code/g))) {\n            handleAmexECMessage(event);\n        }\n        else {\n            handlePayNowMessage(event);\n        }\n    }\n\n    //Handle a message from AmexEC button.\n    function handleAmexECMessage(event) {\n        var result = \"\";\n        var err = \"\";\n        if ((event.origin.match(/ewaypayments.com/) || event.origin.match(/localhost:44300/) || event.origin.match(/ewaylabs.cloud$/)) && !event.data.match(/error_code/g) && event.data.match(/amexec/g) && event.data.length > 6) {\n            setVar(\"FrameLoad\", \"ok\");\n            result = \"Complete\";\n            err = \"\";\n        }\n        else {\n            // clear iFrame, restore page, set errors\n            result = \"Error\";\n            err = \"Sorry we were unable to process the payment, please select an alternative payment method.\";\n            setVar(\"FrameLoad\", \"error\");\n            removeIFrame(\"amex_ec\");\n\n        }\n        if (amexECCallback) {\n            amexECCallback(result, err, event.data);\n            amexECCallback = null;\n        }\n    }\n\n    //Handle a message from a result page for a Pay Now button.\n    function handlePayNowMessage(event) {\n        var tag = findPayNowTagFromButton(window.ewayActivePayNowButton);\n        if (tag) {\n            // ignore LoadOK\n            if (!(event.data.match(/^LoadOK/i))) {\n                var key = getPublicAPIKey(tag);\n                if (event.origin.match(/ewaypayments.com/) || event.origin.match(/localhost:44300/) || event.origin.match(/ewaylabs.cloud$/)) {\n                    if (event.data == \"Cancel\") {\n                        setButtonCancelled();\n                    }\n                    else if (event.data.match(/^Error:/i)) {\n                        setButtonError(event.data.replace(/^Error:/, \"\"));\n                    } else {\n                        setButtonProcessed(event.data);\n                    }\n                    // clear iFrame \n                    removeIFrame(\"eway-payment-window\");\n                }\n            }\n        }\n    }\n\n    //Handle a Modal message (both from the result page, and the load page to detect 401's)\n    function handleModalMessage(event) {\n        // will fire once for the first appropriate message that comes in.\n        if (event.origin.match(/ewaypayments.com/) || event.origin.match(/localhost:44300/) || event.origin.match(/ewaylabs.cloud$/)) {\n            // ignore LoadOK\n            if (event.data.match(/^LoadOK/i)) {\n                setVar(\"FrameLoad\", \"ok\");\n            }\n            else {\n                // clear iFrame restore page\n                setVar(\"FrameLoad\", \"ok\");\n                removeIFrame(\"eway-payment-window\");\n                // decode message and fire the call back, then clear the variable\n                var result = \"Complete\";\n                var err = \"\";\n                var tranid = \"\";\n                if (event.data == \"Cancel\") {\n                    result = \"Cancel\";\n                }\n                else if (event.data.match(/^Error:/i)) {\n                    result = \"Error\";\n                    err = event.data.replace(/^Error:/, \"\");\n                } else {\n                    tranid = (event.data.match(/^ID:([0-9]*),AC:.*/)) ? event.data.match(/^ID:([0-9]*),AC:.*/)[1] : \"\";\n                }\n                if (modalCallback) {\n                    modalCallback(result, tranid, err);\n                    modalCallback = null;\n                }\n            }\n        }\n    }\n\n\n    //This function checks for a loadOK message from the iFrame. will retry while it's pending\n    // It only starts once the frame is loaded, so should be set to a reasonable time \n    function checkFrameLoad(count, id) {\n        var loadStatus = getVar(\"FrameLoad\");\n        if (count-- > 0 && loadStatus && loadStatus == \"pending\") {\n            setTimeout(checkFrameLoad, 250, count); //wait some more\n        }\n        else {\n            // Done waiting or state change, still pending? close frame and call callback\n            if (loadStatus && loadStatus == \"pending\") {\n                removeIFrame(id);\n                if (modalCallback) {\n                    modalCallback(\"Error\", \"\", \"Error loading payment modal, Invalid or missing access code.\");\n                    modalCallback = null;\n                }\n                if (amexECCallback) {\n                    amexECCallback(\"Error\", \"\", \"Error loading AmexEC button, Invalid or missing access code.\");\n                    amexECCallback = null;\n                }\n            }\n        }\n    }\n\n\n\n    function addPayNowButton(tag) {\n        var pk = getPublicAPIKey(tag);\n        var endpoint = getEndpoint(pk);\n        if (endpoint) {\n            var button = createButton(tag, getButtonText(tag), getButtonColor(tag), getButtonTextColor(tag));\n            button.onclick = function () {\n                window.ewayActivePayNowButton = button;\n                setButtonProcessing();\n                // create iFrame\n                var ifrm = createIFrame(\"modal\");\n                var url = endpoint + \"/sharedpayment?PublicAPIKey=\" + getPublicAPIKey(tag) +\n                    addParam(\"Amount\", getAmount(tag)) +\n                    addParam(\"Currency\", getCurrency(tag)) +\n                    addParam(\"InvoiceRef\", getInvoiceRef(tag)) +\n                    addParam(\"Email\", getEmail(tag)) +\n                    addParam(\"Phone\", getPhone(tag)) +\n                    addParam(\"Edit\", getAllowEdit(tag)) +\n                    addParam(\"ResultUrl\", getResultURL(tag)) +\n                    addParam(\"InvoiceDesc\", getInvoiceDesc(tag));\n                ifrm.src = url;\n                bodyFreezeScroll();\n                return false;\n            };\n        }\n        else {\n            // no endpoint means an error in Config somewhere, show a disabled Button\n            var button = createButton(tag, getButtonText(tag), getButtonDisabledColor(tag), getButtonTextColor(tag));\n            window.ewayActivePayNowButton = button;\n            setButtonDisabled(\"Configuration Error: Invalid or missing Public API Key\");\n        }\n    }\n\n    function getButtonText(tag) {\n        var label = getLabel(tag);\n        if (!label) label = \"Pay Now\";\n        if (!(label.match(/#amount#/i))) label += \" (#amount#)\";\n        return label.replace(/#amount#/ig, formatMoney(getAmount(tag) / 100.0, getCurrency(tag)));\n    }\n\n    function addParam(name, value) {\n        return (value) ? \"&\" + name + \"=\" + encodeURIComponent(value) : \"\";\n    }\n\n    function getAmount(tag) {\n        return tag.getAttribute(\"data-amount\");\n    }\n\n    function getCurrency(tag) {\n        var curr = tag.getAttribute(\"data-currency\");\n        return curr == undefined ? \"\" : curr;\n    }\n\n    function getPublicAPIKey(tag) {\n        return tag.getAttribute(\"data-publicapikey\");\n    }\n\n    function getInvoiceRef(tag) {\n        return tag.getAttribute(\"data-invoiceref\");\n    }\n\n    function getEmail(tag) {\n        return tag.getAttribute(\"data-email\");\n    }\n\n    function getPhone(tag) {\n        return tag.getAttribute(\"data-phone\");\n    }\n\n    function getInvoiceDesc(tag) {\n        return tag.getAttribute(\"data-invoicedescription\");\n    }\n\n    function getAllowEdit(tag) {\n        return tag.getAttribute(\"data-allowedit\");\n    }\n\n    function getResultURL(tag) {\n        return tag.getAttribute(\"data-resulturl\");\n    }\n\n    function getLabel(tag) {\n        return (!tag) ? null : tag.getAttribute(\"data-label\");\n    }\n\n    function getSubmitForm(tag) {\n        if (!tag || !(tag.getAttribute(\"data-submitform\"))) return \"true\";\n        return tag.getAttribute(\"data-submitform\");\n    }\n\n    function getButtonColor(tag) {\n        return tag.getAttribute(\"data-buttoncolor\");\n    }\n\n    function getButtonErrorColor(tag) {\n        return tag.getAttribute(\"data-buttonerrorcolor\");\n    }\n\n    function getButtonProcessedColor(tag) {\n        return tag.getAttribute(\"data-buttonprocessedcolor\");\n    }\n\n    function getButtonDisabledColor(tag) {\n        return tag.getAttribute(\"data-buttondisabledcolor\");\n    }\n\n    function getButtonTextColor(tag) {\n        return tag.getAttribute(\"data-buttontextcolor\");\n    }\n\n    function formatMoney(n, curr) {\n        return (curr == \"GBP\" ? \"\\u00A3\" : \"$$\") + n.toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,');\n    }\n\n    // Start Encrypt\n    function extractPublicKey(f) {\n        PUBLIC_KEY_N = b64tohex(f.getAttribute(ewayPublicKeyAttribute));\n    }\n\n    function cloneForm(oldForm) {\n        var newForm = oldForm.cloneNode(true);\n        copySelectLists(oldForm, newForm);\n        copyTextAreas(oldForm, newForm);\n        copyCheckboxAndRadioValues(oldForm, newForm);\n        addButton(oldForm, newForm);\n        return newForm;\n    }\n\n    function copySelectLists(oldForm, newForm) {\n        var selectElementsOld = oldForm.getElementsByTagName('Select');\n        var selectElementsNew = newForm.getElementsByTagName('Select');\n\n        for (var i = 0; i < selectElementsOld.length; i++) {\n            selectElementsNew[i].selectedIndex = selectElementsOld[i].selectedIndex;\n        }\n    }\n\n    function copyTextAreas(oldForm, newForm) {\n        var textElementsOld = oldForm.getElementsByTagName('TextArea');\n        var textElementsNew = newForm.getElementsByTagName('TextArea');\n\n        for (var i = 0; i < textElementsOld.length; i++) {\n            textElementsNew[i].value = textElementsOld[i].value;\n        }\n    }\n\n    function copyCheckboxAndRadioValues(oldForm, newForm) {\n        var inputsOld = oldForm.getElementsByTagName('input');\n        var inputsNew = newForm.getElementsByTagName('input');\n\n        for (var i = 0; i < inputsOld.length; i++) {\n            if (inputsOld[i].type === 'checkbox' || inputsOld[i].type === 'radio') {\n                inputsNew[i].checked = inputsOld[i].checked; // Need this for IE\n                inputsNew[i].value = inputsOld[i].value; // Need this for IE10\n            }\n        }\n    }\n\n\n\n    function encryptElement(element, rsa) {\n        if (element.id) {\n            element.id = \"EWAY_ENCRYPTED_\" + element.id;\n        }\n        element.name = element.getAttribute(ewayEncryptAttribute);\n        element.value = \"eCrypted:\" + rsa.encrypt(element.value);\n    }\n\n    function addSubmitEvent(frm) {\n        var oldonsubmit = frm.onsubmit;\n        if (typeof frm.onsubmit != 'function') {\n            frm.onsubmit = encryptForm;\n        } else {\n            frm.onsubmit = function (e) {\n                if (!oldonsubmit(e)) {\n                    return false;\n                }\n                return encryptForm(e);\n            };\n        }\n    }\n\n    //Event attached to each submit button\n    function saveButtonDetails(e) {\n        if (e.target) {\n            lastButtonName = e.target.name;  // normal sensible browsers\n            lastButtonValue = e.target.value;\n        } else {\n            lastButtonName = e.srcElement.name;  // IE8-9 :-(\n            lastButtonValue = e.srcElement.value;\n        }\n    }\n\n\n\n\n// Start jsbn.js\nvar dbits;\n\n// JavaScript engine analysis\nvar canary = 0xdeadbeefcafe;\nvar j_lm = ((canary & 0xffffff) == 0xefcafe);\n\n// (public) Constructor\nfunction BigInteger(a, b, c) {\n    if (a != null)\n        if (\"number\" == typeof a) this.fromNumber(a, b, c);\n        else if (b == null && \"string\" != typeof a) this.fromString(a, 256);\n        else this.fromString(a, b);\n}\n\n// return new, unset BigInteger\nfunction nbi() { return new BigInteger(null); }\n\n\nfunction am1(i, x, w, j, c, n) {\n    while (--n >= 0) {\n        var v = x * this[i++] + w[j] + c;\n        c = Math.floor(v / 0x4000000);\n        w[j++] = v & 0x3ffffff;\n    }\n    return c;\n}\n// am2 avoids a big mult-and-extract completely.\n// Max digit bits should be <= 30 because we do bitwise ops\n// on values up to 2*hdvalue^2-hdvalue-1 (< 2^31)\nfunction am2(i, x, w, j, c, n) {\n    var xl = x & 0x7fff, xh = x >> 15;\n    while (--n >= 0) {\n        var l = this[i] & 0x7fff;\n        var h = this[i++] >> 15;\n        var m = xh * l + h * xl;\n        l = xl * l + ((m & 0x7fff) << 15) + w[j] + (c & 0x3fffffff);\n        c = (l >>> 30) + (m >>> 15) + xh * h + (c >>> 30);\n        w[j++] = l & 0x3fffffff;\n    }\n    return c;\n}\n// Alternately, set max digit bits to 28 since some\n// browsers slow down when dealing with 32-bit numbers.\nfunction am3(i, x, w, j, c, n) {\n    var xl = x & 0x3fff, xh = x >> 14;\n    while (--n >= 0) {\n        var l = this[i] & 0x3fff;\n        var h = this[i++] >> 14;\n        var m = xh * l + h * xl;\n        l = xl * l + ((m & 0x3fff) << 14) + w[j] + c;\n        c = (l >> 28) + (m >> 14) + xh * h;\n        w[j++] = l & 0xfffffff;\n    }\n    return c;\n}\nif (j_lm && (navigator.appName == \"Microsoft Internet Explorer\")) {\n    BigInteger.prototype.am = am2;\n    dbits = 30;\n}\nelse if (j_lm && (navigator.appName != \"Netscape\")) {\n    BigInteger.prototype.am = am1;\n    dbits = 26;\n}\nelse { // Mozilla/Netscape seems to prefer am3\n    BigInteger.prototype.am = am3;\n    dbits = 28;\n}\n\nBigInteger.prototype.DB = dbits;\nBigInteger.prototype.DM = ((1 << dbits) - 1);\nBigInteger.prototype.DV = (1 << dbits);\n\nvar BI_FP = 52;\nBigInteger.prototype.FV = Math.pow(2, BI_FP);\nBigInteger.prototype.F1 = BI_FP - dbits;\nBigInteger.prototype.F2 = 2 * dbits - BI_FP;\n\n// Digit conversions\nvar BI_RM = \"0123456789abcdefghijklmnopqrstuvwxyz\";\nvar BI_RC = new Array();\nvar rr, vv;\nrr = \"0\".charCodeAt(0);\nfor (vv = 0; vv <= 9; ++vv) BI_RC[rr++] = vv;\nrr = \"a\".charCodeAt(0);\nfor (vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;\nrr = \"A\".charCodeAt(0);\nfor (vv = 10; vv < 36; ++vv) BI_RC[rr++] = vv;\n\nfunction int2char(n) {var BI_RM = \"0123456789abcdefghijklmnopqrstuvwxyz\"; return BI_RM.charAt(n); }\nfunction intAt(s, i) {\n    var c = BI_RC[s.charCodeAt(i)];\n    return (c == null) ? -1 : c;\n}\n\n// (protected) copy this to r\nfunction bnpCopyTo(r) {\n    for (var i = this.t - 1; i >= 0; --i) r[i] = this[i];\n    r.t = this.t;\n    r.s = this.s;\n}\n\n// (protected) set from integer value x, -DV <= x < DV\nfunction bnpFromInt(x) {\n    this.t = 1;\n    this.s = (x < 0) ? -1 : 0;\n    if (x > 0) this[0] = x;\n    else if (x < -1) this[0] = x + this.DV;\n    else this.t = 0;\n}\n\n// return bigint initialized to value\nfunction nbv(i) { var r = nbi(); r.fromInt(i); return r; }\n\n// (protected) set from string and radix\nfunction bnpFromString(s, b) {\n    var k;\n    if (b == 16) k = 4;\n    else if (b == 8) k = 3;\n    else if (b == 256) k = 8; // byte array\n    else if (b == 2) k = 1;\n    else if (b == 32) k = 5;\n    else if (b == 4) k = 2;\n    else { this.fromRadix(s, b); return; }\n    this.t = 0;\n    this.s = 0;\n    var i = s.length, mi = false, sh = 0;\n    while (--i >= 0) {\n        var x = (k == 8) ? s[i] & 0xff : intAt(s, i);\n        if (x < 0) {\n            if (s.charAt(i) == \"-\") mi = true;\n            continue;\n        }\n        mi = false;\n        if (sh == 0)\n            this[this.t++] = x;\n        else if (sh + k > this.DB) {\n            this[this.t - 1] |= (x & ((1 << (this.DB - sh)) - 1)) << sh;\n            this[this.t++] = (x >> (this.DB - sh));\n        }\n        else\n            this[this.t - 1] |= x << sh;\n        sh += k;\n        if (sh >= this.DB) sh -= this.DB;\n    }\n    if (k == 8 && (s[0] & 0x80) != 0) {\n        this.s = -1;\n        if (sh > 0) this[this.t - 1] |= ((1 << (this.DB - sh)) - 1) << sh;\n    }\n    this.clamp();\n    if (mi) BigInteger.ZERO.subTo(this, this);\n}\n\n// (protected) clamp off excess high words\nfunction bnpClamp() {\n    var c = this.s & this.DM;\n    while (this.t > 0 && this[this.t - 1] == c) --this.t;\n}\n\n// (public) return string representation in given radix\nfunction bnToString(b) {\n    if (this.s < 0) return \"-\" + this.negate().toString(b);\n    var k;\n    if (b == 16) k = 4;\n    else if (b == 8) k = 3;\n    else if (b == 2) k = 1;\n    else if (b == 32) k = 5;\n    else if (b == 4) k = 2;\n    else return this.toRadix(b);\n    var km = (1 << k) - 1, d, m = false, r = \"\", i = this.t;\n    var p = this.DB - (i * this.DB) % k;\n    if (i-- > 0) {\n        if (p < this.DB && (d = this[i] >> p) > 0) { m = true; r = int2char(d); }\n        while (i >= 0) {\n            if (p < k) {\n                d = (this[i] & ((1 << p) - 1)) << (k - p);\n                d |= this[--i] >> (p += this.DB - k);\n            }\n            else {\n                d = (this[i] >> (p -= k)) & km;\n                if (p <= 0) { p += this.DB; --i; }\n            }\n            if (d > 0) m = true;\n            if (m) r += int2char(d);\n        }\n    }\n    return m ? r : \"0\";\n}\n\n// (public) -this\nfunction bnNegate() { var r = nbi(); BigInteger.ZERO.subTo(this, r); return r; }\n\n// (public) |this|\nfunction bnAbs() { return (this.s < 0) ? this.negate() : this; }\n\n// (public) return + if this > a, - if this < a, 0 if equal\nfunction bnCompareTo(a) {\n    var r = this.s - a.s;\n    if (r != 0) return r;\n    var i = this.t;\n    r = i - a.t;\n    if (r != 0) return (this.s < 0) ? -r : r;\n    while (--i >= 0) if ((r = this[i] - a[i]) != 0) return r;\n    return 0;\n}\n\n// returns bit length of the integer x\nfunction nbits(x) {\n    var r = 1, t;\n    if ((t = x >>> 16) != 0) { x = t; r += 16; }\n    if ((t = x >> 8) != 0) { x = t; r += 8; }\n    if ((t = x >> 4) != 0) { x = t; r += 4; }\n    if ((t = x >> 2) != 0) { x = t; r += 2; }\n    if ((t = x >> 1) != 0) { x = t; r += 1; }\n    return r;\n}\n\n// (public) return the number of bits in \"this\"\nfunction bnBitLength() {\n    if (this.t <= 0) return 0;\n    return this.DB * (this.t - 1) + nbits(this[this.t - 1] ^ (this.s & this.DM));\n}\n\n// (protected) r = this << n*DB\nfunction bnpDLShiftTo(n, r) {\n    var i;\n    for (i = this.t - 1; i >= 0; --i) r[i + n] = this[i];\n    for (i = n - 1; i >= 0; --i) r[i] = 0;\n    r.t = this.t + n;\n    r.s = this.s;\n}\n\n// (protected) r = this >> n*DB\nfunction bnpDRShiftTo(n, r) {\n    for (var i = n; i < this.t; ++i) r[i - n] = this[i];\n    r.t = Math.max(this.t - n, 0);\n    r.s = this.s;\n}\n\n// (protected) r = this << n\nfunction bnpLShiftTo(n, r) {\n    var bs = n % this.DB;\n    var cbs = this.DB - bs;\n    var bm = (1 << cbs) - 1;\n    var ds = Math.floor(n / this.DB), c = (this.s << bs) & this.DM, i;\n    for (i = this.t - 1; i >= 0; --i) {\n        r[i + ds + 1] = (this[i] >> cbs) | c;\n        c = (this[i] & bm) << bs;\n    }\n    for (i = ds - 1; i >= 0; --i) r[i] = 0;\n    r[ds] = c;\n    r.t = this.t + ds + 1;\n    r.s = this.s;\n    r.clamp();\n}\n\n// (protected) r = this >> n\nfunction bnpRShiftTo(n, r) {\n    r.s = this.s;\n    var ds = Math.floor(n / this.DB);\n    if (ds >= this.t) { r.t = 0; return; }\n    var bs = n % this.DB;\n    var cbs = this.DB - bs;\n    var bm = (1 << bs) - 1;\n    r[0] = this[ds] >> bs;\n    for (var i = ds + 1; i < this.t; ++i) {\n        r[i - ds - 1] |= (this[i] & bm) << cbs;\n        r[i - ds] = this[i] >> bs;\n    }\n    if (bs > 0) r[this.t - ds - 1] |= (this.s & bm) << cbs;\n    r.t = this.t - ds;\n    r.clamp();\n}\n\n// (protected) r = this - a\nfunction bnpSubTo(a, r) {\n    var i = 0, c = 0, m = Math.min(a.t, this.t);\n    while (i < m) {\n        c += this[i] - a[i];\n        r[i++] = c & this.DM;\n        c >>= this.DB;\n    }\n    if (a.t < this.t) {\n        c -= a.s;\n        while (i < this.t) {\n            c += this[i];\n            r[i++] = c & this.DM;\n            c >>= this.DB;\n        }\n        c += this.s;\n    }\n    else {\n        c += this.s;\n        while (i < a.t) {\n            c -= a[i];\n            r[i++] = c & this.DM;\n            c >>= this.DB;\n        }\n        c -= a.s;\n    }\n    r.s = (c < 0) ? -1 : 0;\n    if (c < -1) r[i++] = this.DV + c;\n    else if (c > 0) r[i++] = c;\n    r.t = i;\n    r.clamp();\n}\n\n// (protected) r = this * a, r != this,a (HAC 14.12)\n// \"this\" should be the larger one if appropriate.\nfunction bnpMultiplyTo(a, r) {\n    var x = this.abs(), y = a.abs();\n    var i = x.t;\n    r.t = i + y.t;\n    while (--i >= 0) r[i] = 0;\n    for (i = 0; i < y.t; ++i) r[i + x.t] = x.am(0, y[i], r, i, 0, x.t);\n    r.s = 0;\n    r.clamp();\n    if (this.s != a.s) BigInteger.ZERO.subTo(r, r);\n}\n\n// (protected) r = this^2, r != this (HAC 14.16)\nfunction bnpSquareTo(r) {\n    var x = this.abs();\n    var i = r.t = 2 * x.t;\n    while (--i >= 0) r[i] = 0;\n    for (i = 0; i < x.t - 1; ++i) {\n        var c = x.am(i, x[i], r, 2 * i, 0, 1);\n        if ((r[i + x.t] += x.am(i + 1, 2 * x[i], r, 2 * i + 1, c, x.t - i - 1)) >= x.DV) {\n            r[i + x.t] -= x.DV;\n            r[i + x.t + 1] = 1;\n        }\n    }\n    if (r.t > 0) r[r.t - 1] += x.am(i, x[i], r, 2 * i, 0, 1);\n    r.s = 0;\n    r.clamp();\n}\n\n// (protected) divide this by m, quotient and remainder to q, r (HAC 14.20)\n// r != q, this != m.  q or r may be null.\nfunction bnpDivRemTo(m, q, r) {\n    var pm = m.abs();\n    if (pm.t <= 0) return;\n    var pt = this.abs();\n    if (pt.t < pm.t) {\n        if (q != null) q.fromInt(0);\n        if (r != null) this.copyTo(r);\n        return;\n    }\n    if (r == null) r = nbi();\n    var y = nbi(), ts = this.s, ms = m.s;\n    var nsh = this.DB - nbits(pm[pm.t - 1]);\t// normalize modulus\n    if (nsh > 0) { pm.lShiftTo(nsh, y); pt.lShiftTo(nsh, r); }\n    else { pm.copyTo(y); pt.copyTo(r); }\n    var ys = y.t;\n    var y0 = y[ys - 1];\n    if (y0 == 0) return;\n    var yt = y0 * (1 << this.F1) + ((ys > 1) ? y[ys - 2] >> this.F2 : 0);\n    var d1 = this.FV / yt, d2 = (1 << this.F1) / yt, e = 1 << this.F2;\n    var i = r.t, j = i - ys, t = (q == null) ? nbi() : q;\n    y.dlShiftTo(j, t);\n    if (r.compareTo(t) >= 0) {\n        r[r.t++] = 1;\n        r.subTo(t, r);\n    }\n    BigInteger.ONE.dlShiftTo(ys, t);\n    t.subTo(y, y);\t// \"negative\" y so we can replace sub with am later\n    while (y.t < ys) y[y.t++] = 0;\n    while (--j >= 0) {\n        // Estimate quotient digit\n        var qd = (r[--i] == y0) ? this.DM : Math.floor(r[i] * d1 + (r[i - 1] + e) * d2);\n        if ((r[i] += y.am(0, qd, r, j, 0, ys)) < qd) {\t// Try it out\n            y.dlShiftTo(j, t);\n            r.subTo(t, r);\n            while (r[i] < --qd) r.subTo(t, r);\n        }\n    }\n    if (q != null) {\n        r.drShiftTo(ys, q);\n        if (ts != ms) BigInteger.ZERO.subTo(q, q);\n    }\n    r.t = ys;\n    r.clamp();\n    if (nsh > 0) r.rShiftTo(nsh, r);\t// Denormalize remainder\n    if (ts < 0) BigInteger.ZERO.subTo(r, r);\n}\n\n// (public) this mod a\nfunction bnMod(a) {\n    var r = nbi();\n    this.abs().divRemTo(a, null, r);\n    if (this.s < 0 && r.compareTo(BigInteger.ZERO) > 0) a.subTo(r, r);\n    return r;\n}\n\n// Modular reduction using \"classic\" algorithm\nfunction Classic(m) { this.m = m; }\nfunction cConvert(x) {\n    if (x.s < 0 || x.compareTo(this.m) >= 0) return x.mod(this.m);\n    else return x;\n}\nfunction cRevert(x) { return x; }\nfunction cReduce(x) { x.divRemTo(this.m, null, x); }\nfunction cMulTo(x, y, r) { x.multiplyTo(y, r); this.reduce(r); }\nfunction cSqrTo(x, r) { x.squareTo(r); this.reduce(r); }\n\nClassic.prototype.convert = cConvert;\nClassic.prototype.revert = cRevert;\nClassic.prototype.reduce = cReduce;\nClassic.prototype.mulTo = cMulTo;\nClassic.prototype.sqrTo = cSqrTo;\n\n\nfunction bnpInvDigit() {\n    if (this.t < 1) return 0;\n    var x = this[0];\n    if ((x & 1) == 0) return 0;\n    var y = x & 3;\t\t// y == 1/x mod 2^2\n    y = (y * (2 - (x & 0xf) * y)) & 0xf;\t// y == 1/x mod 2^4\n    y = (y * (2 - (x & 0xff) * y)) & 0xff;\t// y == 1/x mod 2^8\n    y = (y * (2 - (((x & 0xffff) * y) & 0xffff))) & 0xffff;\t// y == 1/x mod 2^16\n    // last step - calculate inverse mod DV directly;\n    // assumes 16 < DB <= 32 and assumes ability to handle 48-bit ints\n    y = (y * (2 - x * y % this.DV)) % this.DV;\t\t// y == 1/x mod 2^dbits\n    // we really want the negative inverse, and -DV < y < DV\n    return (y > 0) ? this.DV - y : -y;\n}\n\n// Montgomery reduction\nfunction Montgomery(m) {\n    this.m = m;\n    this.mp = m.invDigit();\n    this.mpl = this.mp & 0x7fff;\n    this.mph = this.mp >> 15;\n    this.um = (1 << (m.DB - 15)) - 1;\n    this.mt2 = 2 * m.t;\n}\n\n// xR mod m\nfunction montConvert(x) {\n    var r = nbi();\n    x.abs().dlShiftTo(this.m.t, r);\n    r.divRemTo(this.m, null, r);\n    if (x.s < 0 && r.compareTo(BigInteger.ZERO) > 0) this.m.subTo(r, r);\n    return r;\n}\n\n// x/R mod m\nfunction montRevert(x) {\n    var r = nbi();\n    x.copyTo(r);\n    this.reduce(r);\n    return r;\n}\n\n// x = x/R mod m (HAC 14.32)\nfunction montReduce(x) {\n    while (x.t <= this.mt2)\t// pad x so am has enough room later\n        x[x.t++] = 0;\n    for (var i = 0; i < this.m.t; ++i) {\n        // faster way of calculating u0 = x[i]*mp mod DV\n        var j = x[i] & 0x7fff;\n        var u0 = (j * this.mpl + (((j * this.mph + (x[i] >> 15) * this.mpl) & this.um) << 15)) & x.DM;\n        // use am to combine the multiply-shift-add into one call\n        j = i + this.m.t;\n        x[j] += this.m.am(0, u0, x, i, 0, this.m.t);\n        // propagate carry\n        while (x[j] >= x.DV) { x[j] -= x.DV; x[++j]++; }\n    }\n    x.clamp();\n    x.drShiftTo(this.m.t, x);\n    if (x.compareTo(this.m) >= 0) x.subTo(this.m, x);\n}\n\n// r = \"x^2/R mod m\"; x != r\nfunction montSqrTo(x, r) { x.squareTo(r); this.reduce(r); }\n\n// r = \"xy/R mod m\"; x,y != r\nfunction montMulTo(x, y, r) { x.multiplyTo(y, r); this.reduce(r); }\n\nMontgomery.prototype.convert = montConvert;\nMontgomery.prototype.revert = montRevert;\nMontgomery.prototype.reduce = montReduce;\nMontgomery.prototype.mulTo = montMulTo;\nMontgomery.prototype.sqrTo = montSqrTo;\n\n// (protected) true iff this is even\nfunction bnpIsEven() { return ((this.t > 0) ? (this[0] & 1) : this.s) == 0; }\n\n// (protected) this^e, e < 2^32, doing sqr and mul with \"r\" (HAC 14.79)\nfunction bnpExp(e, z) {\n    if (e > 0xffffffff || e < 1) return BigInteger.ONE;\n    var r = nbi(), r2 = nbi(), g = z.convert(this), i = nbits(e) - 1;\n    g.copyTo(r);\n    while (--i >= 0) {\n        z.sqrTo(r, r2);\n        if ((e & (1 << i)) > 0) z.mulTo(r2, g, r);\n        else { var t = r; r = r2; r2 = t; }\n    }\n    return z.revert(r);\n}\n\n// (public) this^e % m, 0 <= e < 2^32\nfunction bnModPowInt(e, m) {\n    var z;\n    if (e < 256 || m.isEven()) z = new Classic(m); else z = new Montgomery(m);\n    return this.exp(e, z);\n}\n\n// protected\nBigInteger.prototype.copyTo = bnpCopyTo;\nBigInteger.prototype.fromInt = bnpFromInt;\nBigInteger.prototype.fromString = bnpFromString;\nBigInteger.prototype.clamp = bnpClamp;\nBigInteger.prototype.dlShiftTo = bnpDLShiftTo;\nBigInteger.prototype.drShiftTo = bnpDRShiftTo;\nBigInteger.prototype.lShiftTo = bnpLShiftTo;\nBigInteger.prototype.rShiftTo = bnpRShiftTo;\nBigInteger.prototype.subTo = bnpSubTo;\nBigInteger.prototype.multiplyTo = bnpMultiplyTo;\nBigInteger.prototype.squareTo = bnpSquareTo;\nBigInteger.prototype.divRemTo = bnpDivRemTo;\nBigInteger.prototype.invDigit = bnpInvDigit;\nBigInteger.prototype.isEven = bnpIsEven;\nBigInteger.prototype.exp = bnpExp;\n\n// public\nBigInteger.prototype.toString = bnToString;\nBigInteger.prototype.negate = bnNegate;\nBigInteger.prototype.abs = bnAbs;\nBigInteger.prototype.compareTo = bnCompareTo;\nBigInteger.prototype.bitLength = bnBitLength;\nBigInteger.prototype.mod = bnMod;\nBigInteger.prototype.modPowInt = bnModPowInt;\n\n// \"constants\"\nBigInteger.ZERO = nbv(0);\nBigInteger.ONE = nbv(1);\n\n\n// prng4.js - uses Arcfour as a PRNG\n\nfunction Arcfour() {\n    this.i = 0;\n    this.j = 0;\n    this.S = new Array();\n}\n\n// Initialize arcfour context from key, an array of ints, each from [0..255]\nfunction ARC4init(key) {\n    var i, j, t;\n    for (i = 0; i < 256; ++i)\n        this.S[i] = i;\n    j = 0;\n    for (i = 0; i < 256; ++i) {\n        j = (j + this.S[i] + key[i % key.length]) & 255;\n        t = this.S[i];\n        this.S[i] = this.S[j];\n        this.S[j] = t;\n    }\n    this.i = 0;\n    this.j = 0;\n}\n\nfunction ARC4next() {\n    var t;\n    this.i = (this.i + 1) & 255;\n    this.j = (this.j + this.S[this.i]) & 255;\n    t = this.S[this.i];\n    this.S[this.i] = this.S[this.j];\n    this.S[this.j] = t;\n    return this.S[(t + this.S[this.i]) & 255];\n}\n\nArcfour.prototype.init = ARC4init;\nArcfour.prototype.next = ARC4next;\n\n// Plug in your RNG constructor here\nfunction prng_newstate() {\n    return new Arcfour();\n}\n\n// Pool size must be a multiple of 4 and greater than 32.\n// An array of bytes the size of the pool will be passed to init()\nvar rng_psize = 256;\n\nvar rng_state;\nvar rng_pool;\nvar rng_pptr;\n\n// Mix in a 32-bit integer into the pool\nfunction rng_seed_int(x) {\n    rng_pool[rng_pptr++] ^= x & 255;\n    rng_pool[rng_pptr++] ^= (x >> 8) & 255;\n    rng_pool[rng_pptr++] ^= (x >> 16) & 255;\n    rng_pool[rng_pptr++] ^= (x >> 24) & 255;\n    if (rng_pptr >= rng_psize) rng_pptr -= rng_psize;\n}\n\n// Mix in the current time (w/milliseconds) into the pool\nfunction rng_seed_time() {\n    rng_seed_int(new Date().getTime());\n}\n\n// Initialize the pool with junk if needed.\nif (rng_pool == null) {\n    rng_pool = new Array();\n    rng_pptr = 0;\n    var t;\n    if (window.crypto && window.crypto.getRandomValues) {\n        // Use webcrypto if available\n        var ua = new Uint8Array(32);\n        window.crypto.getRandomValues(ua);\n        for (t = 0; t < 32; ++t)\n            rng_pool[rng_pptr++] = ua[t];\n    }\n    if (navigator.appName == \"Netscape\" && navigator.appVersion < \"5\" && window.crypto) {\n        // Extract entropy (256 bits) from NS4 RNG if available\n        var z = window.crypto.random(32);\n        for (t = 0; t < z.length; ++t)\n            rng_pool[rng_pptr++] = z.charCodeAt(t) & 255;\n    }\n    while (rng_pptr < rng_psize) {  // extract some randomness from Math.random()\n        t = Math.floor(65536 * Math.random());\n        rng_pool[rng_pptr++] = t >>> 8;\n        rng_pool[rng_pptr++] = t & 255;\n    }\n    rng_pptr = 0;\n    rng_seed_time();\n\n}\n\nfunction rng_get_byte() {\n    if (rng_state == null) {\n        rng_seed_time();\n        rng_state = prng_newstate();\n        rng_state.init(rng_pool);\n        for (rng_pptr = 0; rng_pptr < rng_pool.length; ++rng_pptr)\n            rng_pool[rng_pptr] = 0;\n        rng_pptr = 0;\n        //rng_pool = null;\n    }\n    return rng_state.next();\n}\n\nfunction rng_get_bytes(ba) {\n    var i;\n    for (i = 0; i < ba.length; ++i) ba[i] = rng_get_byte();\n}\n\nfunction SecureRandom() { }\n\nSecureRandom.prototype.nextBytes = rng_get_bytes;\n\n\n\nfunction parseBigInt(str, r) {\n    return new BigInteger(str, r);\n}\n\nfunction linebrk(s, n) {\n    var ret = \"\";\n    var i = 0;\n    while (i + n < s.length) {\n        ret += s.substring(i, i + n) + \"\\n\";\n        i += n;\n    }\n    return ret + s.substring(i, s.length);\n}\n\nfunction byte2Hex(b) {\n    if (b < 0x10)\n        return \"0\" + b.toString(16);\n    else\n        return b.toString(16);\n}\n\n// PKCS#1 (type 2, random) pad input string s to n bytes, and return a bigint\nfunction pkcs1pad2(s, n) {\n    if (n < s.length + 11) {\n        alert(\"Message too long for RSA\");\n        return null;\n    }\n    var ba = new Array();\n    var i = s.length - 1;\n    while (i >= 0 && n > 0) {\n        var c = s.charCodeAt(i--);\n        if (c < 128) { // encode using utf-8\n            ba[--n] = c;\n        }\n        else if ((c > 127) && (c < 2048)) {\n            ba[--n] = (c & 63) | 128;\n            ba[--n] = (c >> 6) | 192;\n        }\n        else {\n            ba[--n] = (c & 63) | 128;\n            ba[--n] = ((c >> 6) & 63) | 128;\n            ba[--n] = (c >> 12) | 224;\n        }\n    }\n    ba[--n] = 0;\n    var rng = new SecureRandom();\n    var x = new Array();\n    while (n > 2) { // random non-zero pad\n        x[0] = 0;\n        while (x[0] == 0) rng.nextBytes(x);\n        ba[--n] = x[0];\n    }\n    ba[--n] = 2;\n    ba[--n] = 0;\n    return new BigInteger(ba);\n}\n\n// \"empty\" RSA key constructor\nfunction RSAKey() {\n    this.n = null;\n    this.e = 0;\n    this.d = null;\n    this.p = null;\n    this.q = null;\n    this.dmp1 = null;\n    this.dmq1 = null;\n    this.coeff = null;\n}\n\n// Set the public key fields N and e from hex strings\nfunction RSASetPublic(N, E) {\n    if (N != null && E != null && N.length > 0 && E.length > 0) {\n        this.n = parseBigInt(N, 16);\n        this.e = parseInt(E, 16);\n    }\n    else\n        alert(\"Invalid RSA public key\");\n}\n\n// Perform raw public operation on \"x\": return x^e (mod n)\nfunction RSADoPublic(x) {\n    return x.modPowInt(this.e, this.n);\n}\n\n// Return the PKCS#1 RSA encryption of \"text\" as an even-length hex string\nfunction RSAEncrypt(text) {\n    var m = pkcs1pad2(text, (this.n.bitLength() + 7) >> 3);\n    if (m == null) return null;\n    var c = this.doPublic(m);\n    if (c == null) return null;\n    var h = c.toString(16);\n    if ((h.length & 1) == 0) return hex2b64(h); else return hex2b64(\"0\" + h);\n}\n\n\n\n// protected\nRSAKey.prototype.doPublic = RSADoPublic;\n\n// public\nRSAKey.prototype.setPublic = RSASetPublic;\nRSAKey.prototype.encrypt = RSAEncrypt;\n\n// base64.js\n\nvar b64map = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\nvar b64padchar = \"=\";\n\nfunction hex2b64(h) {\n    var i;\n    var c;\n    var ret = \"\";\n    for (i = 0; i + 3 <= h.length; i += 3) {\n        c = parseInt(h.substring(i, i + 3), 16);\n        ret += b64map.charAt(c >> 6) + b64map.charAt(c & 63);\n    }\n    if (i + 1 == h.length) {\n        c = parseInt(h.substring(i, i + 1), 16);\n        ret += b64map.charAt(c << 2);\n    }\n    else if (i + 2 == h.length) {\n        c = parseInt(h.substring(i, i + 2), 16);\n        ret += b64map.charAt(c >> 2) + b64map.charAt((c & 3) << 4);\n    }\n    while ((ret.length & 3) > 0) ret += b64padchar;\n    return ret;\n}\n\n// convert a base64 string to hex\nfunction b64tohex(s) {\n    var b64map = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\";\n    var b64padchar = \"=\";\n    var ret = \"\"\n    var i;\n    var k = 0; // b64 state, 0-3\n    var slop;\n    for (i = 0; i < s.length; ++i) {\n        if (s.charAt(i) == b64padchar) break;\n        v = b64map.indexOf(s.charAt(i));\n        if (v < 0) continue;\n        if (k == 0) {\n            ret += int2char(v >> 2);\n            slop = v & 3;\n            k = 1;\n        }\n        else if (k == 1) {\n            ret += int2char((slop << 2) | (v >> 4));\n            slop = v & 0xf;\n            k = 2;\n        }\n        else if (k == 2) {\n            ret += int2char(slop);\n            ret += int2char(v >> 2);\n            slop = v & 3;\n            k = 3;\n        }\n        else {\n            ret += int2char((slop << 2) | (v >> 4));\n            ret += int2char(v & 0xf);\n            k = 0;\n        }\n    }\n    if (k == 1)\n        ret += int2char(slop << 2);\n    return ret;\n}\n\n// convert a base64 string to a byte/number array\nfunction b64toBA(s) {\n    //piggyback on b64tohex for now, optimize later\n    var h = b64tohex(s);\n    var i;\n    var a = new Array();\n    for (i = 0; 2 * i < h.length; ++i) {\n        a[i] = parseInt(h.substring(2 * i, 2 * i + 2), 16);\n    }\n    return a;\n}\n\nreturn encryptValueApi(val, key);\n}\n"],"mappings":"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"}